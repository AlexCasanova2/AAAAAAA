import{r as l,c as h,z as x,a as g,b as t,k as w,x as b,t as i,A as y,s as r,u as k,o as C}from"./index-DGUlPAX8.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{A as P}from"./arrow-left-7li7JSlN.js";const V={class:"bg-white text-[#111] flex flex-col"},j={class:"safe-area-top"},B={class:"w-full p-4 flex justify-between items-center"},M={class:"flex-1 p-4"},A={class:"space-y-6"},N={class:"flex flex-col items-center"},D={class:"w-24 h-24 rounded-full bg-[#111] flex items-center justify-center mb-4"},E={class:"text-3xl font-medium text-white"},G={class:"text-xl font-medium"},I={class:"text-sm text-[#111]/70"},L={class:"space-y-4"},S={class:"bg-white/10 rounded-lg p-4"},q={class:"mt-2 space-y-2"},z={class:"text-sm text-[#111]/70"},O={class:"text-sm text-[#111]/70"},R={__name:"ProfileView",setup(T){const c=k(),o=l(null),d=l(0),u=l(0),p=h(()=>{var e,s;return(s=(e=o.value)==null?void 0:e.user_metadata)!=null&&s.name?o.value.user_metadata.name.split(" ").map(a=>a[0]).join("").toUpperCase():"U"}),_=async()=>{const{data:{user:e}}=await r.auth.getUser();o.value=e;const{data:s}=await r.from("recordings").select("duration").eq("user_id",e.id);d.value=(s==null?void 0:s.length)||0,u.value=Math.round(((s==null?void 0:s.reduce((a,n)=>a+(n.duration||0),0))||0)/60)},f=async()=>{await r.auth.signOut(),c.push("/login")},v=()=>{c.push("/")};return x(_),(e,s)=>{var a,n,m;return C(),g("div",V,[t("div",j,[t("div",B,[t("button",{class:"p-1 flex items-center justify-center hover:opacity-80 transition-opacity","aria-label":"Tornar",onClick:v},[w(b(P),{class:"w-6 h-6 stroke-[#111]"})]),s[0]||(s[0]=t("h1",{class:"text-xl font-medium"}," Perfil ",-1)),s[1]||(s[1]=t("div",{class:"w-10"},null,-1))])]),t("div",M,[t("div",A,[t("div",N,[t("div",D,[t("span",E,i(p.value),1)]),t("h2",G,i(((n=(a=o.value)==null?void 0:a.user_metadata)==null?void 0:n.name)||"Usuario"),1),t("p",I,i((m=o.value)==null?void 0:m.email),1)]),t("div",L,[t("div",S,[s[2]||(s[2]=t("h3",{class:"font-medium"},"Estadísticas",-1)),t("div",q,[t("p",z,"Grabaciones: "+i(d.value),1),t("p",O,"Minutos totales: "+i(u.value),1)])]),s[3]||(s[3]=y('<div class="bg-white/10 rounded-lg p-4" data-v-50a99e64><h3 class="font-medium" data-v-50a99e64>Configuración</h3><p class="text-sm text-[#111]/70" data-v-50a99e64>Preferencias de la aplicación</p></div><div class="bg-white/10 rounded-lg p-4" data-v-50a99e64><h3 class="font-medium" data-v-50a99e64>Privacidad</h3><p class="text-sm text-[#111]/70" data-v-50a99e64>Gestionar permisos y datos</p></div>',2))]),t("button",{onClick:f,class:"w-full bg-red-500 text-white rounded-lg py-3 font-medium hover:bg-red-600 transition-colors duration-200 mt-8"}," Cerrar sesión ")])])])}}},K=U(R,[["__scopeId","data-v-50a99e64"]]);export{K as default};
